<?php

//			chart properties
//position
$chartX=10;
$chartY=220;

//dimension
$chartWidth=195;
$chartHeight=60;

//padding
$chartTopPadding=10;
$chartLeftPadding=20;
$chartBottomPadding=20;
$chartRightPadding=5;

//chart box
$chartBoxX=$chartX+$chartLeftPadding;
$chartBoxY=$chartY+$chartTopPadding;
$chartBoxWidth=$chartWidth-$chartLeftPadding-$chartRightPadding;
$chartBoxHeight=$chartHeight-$chartBottomPadding-$chartTopPadding;

//bar width
$barWidth=10;

//chart data

if($contador==2){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]]
	);	
}

if($contador==6){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]]
	);	
}

if($contador==7){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]],
	$materiaArray[7]=>[
		'color'=>[73,247,236],
		'value'=>$notaArray[7]]
	);	
}
if($contador==8){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]],
	$materiaArray[7]=>[
		'color'=>[73,247,236],
		'value'=>$notaArray[7]],
	$materiaArray[8]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[8]]
	);	
}
if($contador==9){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]],
	$materiaArray[7]=>[
		'color'=>[73,247,236],
		'value'=>$notaArray[7]],
	$materiaArray[8]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[8]],
	$materiaArray[9]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[9]]
	);	
}

if($contador==10){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]],
	$materiaArray[7]=>[
		'color'=>[73,247,236],
		'value'=>$notaArray[7]],
	$materiaArray[8]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[8]],
	$materiaArray[9]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[9]],
        $materiaArray[10]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[10]]
	);	
}

if($contador==11){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]],
	$materiaArray[7]=>[
		'color'=>[73,247,236],
		'value'=>$notaArray[7]],
	$materiaArray[8]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[8]],
	$materiaArray[9]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[9]],
        $materiaArray[10]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[10]],
        $materiaArray[11]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[11]]
	);	
}

if($contador==12){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]],
	$materiaArray[7]=>[
		'color'=>[73,247,236],
		'value'=>$notaArray[7]],
	$materiaArray[8]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[8]],
	$materiaArray[9]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[9]],
        $materiaArray[10]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[10]],
        $materiaArray[11]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[11]],
        $materiaArray[12]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[12]]
	);	
}

if($contador==13){
$data=Array(
	$materiaArray[1]=>[
		'color'=>[255,230,0],
		'value'=>$notaArray[1]],
	$materiaArray[2]=>[
		'color'=>[15,74,239],
		'value'=>$notaArray[2]],
	$materiaArray[3]=>[
		'color'=>[247,73,73],
		'value'=>$notaArray[3]],
	$materiaArray[4]=>[
		'color'=>[155,0,255],
		'value'=>$notaArray[4]],
	$materiaArray[5]=>[
		'color'=>[5,255,0],
		'value'=>$notaArray[5]],
	$materiaArray[6]=>[
		'color'=>[633,250,0],
		'value'=>$notaArray[6]],
	$materiaArray[7]=>[
		'color'=>[73,247,236],
		'value'=>$notaArray[7]],
	$materiaArray[8]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[8]],
	$materiaArray[9]=>[
		'color'=>[255,134,13],
		'value'=>$notaArray[9]],
        $materiaArray[10]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[10]],
        $materiaArray[11]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[11]],
        $materiaArray[12]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[12]],
        $materiaArray[13]=>[
		'color'=>[73,134,13],
		'value'=>$notaArray[13]]
	);	
}

//$dataMax
$dataMax=0;
foreach($data as $item){
	if($item['value']>$dataMax)$dataMax=$item['value'];
}

//data step
$dataStep=1;

//set font, line width and color
$pdf->SetFont('Arial','',5);
$pdf->SetLineWidth(0.2);
$pdf->SetDrawColor(0);

//chart boundary
$pdf->Rect($chartX,$chartY,$chartWidth,$chartHeight);

//vertical axis line
$pdf->Line(
	$chartBoxX ,
	$chartBoxY , 
	$chartBoxX , 
	($chartBoxY+$chartBoxHeight)
	);
//horizontal axis line
$pdf->Line(
	$chartBoxX-2 , 
	($chartBoxY+$chartBoxHeight) , 
	$chartBoxX+($chartBoxWidth) , 
	($chartBoxY+$chartBoxHeight)
	);

///vertical axis
//calculate chart's y axis scale unit
$yAxisUnits=$chartBoxHeight/$dataMax;

//draw the vertical (y) axis labels
for($i=0 ; $i<=$dataMax ; $i+=$dataStep){
	//y position
	$yAxisPos=$chartBoxY+($yAxisUnits*$i);
	//draw y axis line
	$pdf->Line(
		$chartBoxX-2 ,
		$yAxisPos ,
		$chartBoxX ,
		$yAxisPos
	);
	//set cell position for y axis labels
	$pdf->SetXY($chartBoxX-$chartLeftPadding , $yAxisPos-2);
	//$pdf->Cell($chartLeftPadding-4 , 5 , $dataMax-$i , 1);---------------
	$pdf->Cell($chartLeftPadding-4 , 5 , $dataMax-$i, 0 , 0 , 'R');
}

///horizontal axis
//set cells position
$pdf->SetXY($chartBoxX , $chartBoxY+$chartBoxHeight);

//cell's width
$xLabelWidth=$chartBoxWidth / count($data);

//$pdf->Cell($xLabelWidth , 5 , $itemName , 1 , 0 , 'C');-------------
//loop horizontal axis and draw the bar
$barXPos=0;
foreach($data as $itemName=>$item){
	//print the label
	//$pdf->Cell($xLabelWidth , 5 , $itemName , 1 , 0 , 'C');--------------
	$pdf->Cell($xLabelWidth , 5 , $itemName , 0 , 0 , 'C');
	
	///drawing the bar
	//bar color
	$pdf->SetFillColor($item['color'][0],$item['color'][1],$item['color'][2]);
	//bar height
	$barHeight=$yAxisUnits*$item['value'];
	//bar x position
	$barX=($xLabelWidth/2)+($xLabelWidth*$barXPos);
	$barX=$barX-($barWidth/2);
	$barX=$barX+$chartBoxX;
	//bar y position
	$barY=$chartBoxHeight-$barHeight;
	$barY=$barY+$chartBoxY;
	//draw the bar
	$pdf->Rect($barX,$barY,$barWidth,$barHeight,'DF');
	//increase x position (next series)
	$barXPos++;
}

//axis labels
$pdf->SetFont('Arial','B',5);
$pdf->SetXY($chartX,$chartY);
$pdf->Cell(100,10,"Notas",0);
$pdf->SetXY(($chartWidth/2)-50+$chartX,$chartY+$chartHeight-($chartBottomPadding/2));
$pdf->Cell(100,5,"Materias",0,0,'C');

?>

